:root{
  --primary: #004d99; /* Azul Corporativo */
  --accent: #f26522; /* Naranja Contraste (para el subtítulo) */
  --dark: #2c3e50; /* Gris Oscuro/Negro Sobrio */
  --border: #e0e0e0;
  --bg: #f4f7f9; /* Fondo muy claro */
  --card: #fff;
}

*{box-sizing:border-box}
body{
  font-family: 'Inter', "Segoe UI", Roboto, Arial, sans-serif; /* Fuente moderna */
  margin:0;
  background:var(--bg);
  color:var(--dark);
}

.wrapper{
  max-width:1020px;
  margin:25px auto;
  background:var(--card);\n  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  overflow:hidden;
}

header{
  display:flex;
  gap:16px;
  align-items:center;
  background:var(--dark);
  color:white;
  padding:18px;
}
.logo{width:80px;height:80px;object-fit:contain;background:white;padding:5px;border-radius:8px}
.header-info h1{margin:0;font-size:2rem}
.header-info p{color:var(--accent);margin:4px 0;font-weight:700;font-size:0.9rem}

/* OT BAR */
.ot-bar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px;
  border-bottom:1px solid var(--border);
  background:#f9f9f9;
}
.ot-bar .left{
  display:flex;
  align-items:center;
  gap:10px;
}
.ot-bar .ot-label{
  font-weight:700;
  color:var(--primary);
  font-size:1.1rem;
}
#otNumber{
  font-size:1.1rem;
  font-weight:700;
  color:var(--accent);
  border:none;
  background:transparent;
  width:80px;
  text-align:right;
}

/* CONTROLES */
.controls{
  display:flex;
  gap:8px;
}
.controls button{
  display:flex;
  align-items:center;
  gap:4px;
  padding:10px 15px;
  border-radius:8px;
  border:1px solid var(--border);
  background:white;
  color:var(--dark);
  cursor:pointer;
  font-weight:600;
  transition:all 0.2s;
}
.controls button:hover{
  background:var(--bg);
  box-shadow:0 2px 5px rgba(0,0,0,0.05);
}
.controls button .lucide{
  width:18px;
  height:18px;
}
.controls button.primary-btn{
  background:var(--primary);
  color:white;
  border-color:var(--primary);
}
.controls button.primary-btn:hover{
  background:#003a73;
  border-color:#003a73;
}
.controls button.danger-btn{
  background:#c0392b;
  color:white;
  border-color:#c0392b;
}
.controls button.danger-btn:hover{
  background:#9f2e22;
  border-color:#9f2e22;
}

/* DB Message/Feedback */
.db-message {
    padding: 10px 15px;
    background: #e6f7ff;
    color: #004d99;
    border-bottom: 1px solid #cceeff;
    font-size: 0.9rem;
    font-weight: 600;
    text-align: center;
}

/* MAIN FORM LAYOUT */
main{padding:15px}
section, fieldset{
  border:1px solid var(--border);
  border-radius:8px;
  padding:15px;
  margin-bottom:20px;
  background:var(--card);
}
h3{
  margin-top:0;
  margin-bottom:15px;
  color:var(--primary);
  border-bottom:2px solid var(--accent);
  display:inline-block;
  padding-bottom:5px;
  font-weight:800;
}
label{
  display:block;
  margin-bottom:10px;
  font-weight:600;
  color:#555;
  font-size:0.95rem;
}
input[type="text"], input[type="tel"], input[type="email"], input[type="date"], select, textarea{
  width:100%;
  padding:10px;
  margin-top:5px;
  border:1px solid var(--border);
  border-radius:6px;
  box-shadow:inset 0 1px 3px rgba(0,0,0,0.05);
  transition:border-color 0.15s;
}
input:focus, select:focus, textarea:focus{
  border-color:var(--primary);
  outline:none;
  box-shadow:0 0 0 3px rgba(0, 77, 153, 0.1);
}
textarea{resize:vertical}
.grid-2{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:15px;
}
.grid-3{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:15px;
}

/* FINANCIAL DATA */
.financial-data legend{
  font-weight:700;
  font-size:1.2rem;
  color:var(--accent);
  padding:0 10px;
}
.financial-data input[readonly]{
  background:#f0f0f0;
  font-weight:700;
  color:var(--dark);
}
.financial-data .total-final input{
  background:var(--primary);
  color:white;
  font-size:1.1rem;
}

/* FIRMAS */
.firmas{
  display:flex;
  justify-content:space-around;
  margin:20px 0;
  border-top:1px dashed var(--border);
  padding-top:20px;
}
.firma-box{
  text-align:center;
  width:45%;
}
.firma-box input{
  border:none;
  border-bottom:2px solid var(--dark);
  border-radius:0;
  margin-top:50px;
  text-align:center;
  padding:5px 0;
}
.firma-box label{font-weight:700;color:var(--dark);margin-top:10px}

/* NOTAS */
.notas h4{color:var(--accent);margin-bottom:10px}
.notas ul{
  list-style:none;
  padding:0;
  font-size:0.9rem;
  color:#777;
}
.notas li{
  margin-bottom:5px;
}

/* FOOTER */
footer{background:var(--dark);color:white;padding:10px;text-align:center;font-size:0.8rem}

/* === MODAL STYLES === */
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;z-index:1000}
.modal.hidden{display:none}
.modal-content{background:white;padding:20px;border-radius:12px;width:90%;max-width:600px;box-shadow:0 5px 15px rgba(0,0,0,0.3);position:relative}
.modal-header{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border);padding-bottom:10px;margin-bottom:15px}
.modal-header h3{margin:0;border:none;padding:0;color:var(--primary)}
.modal-header button{background:var(--accent);color:white;padding:8px 12px;border:none;border-radius:6px;cursor:pointer}
.modal-body input{width:100%;padding:10px;border-radius:6px;border:1px solid var(--border);margin-bottom:15px}
.orders-list{max-height:500px;overflow-y:auto;border:1px solid #eee;padding:10px;border-radius:6px;background:#f9f9f9;min-height:100px;position:relative}
.order-row{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #e5e5e5;background:#fff;border-radius:6px;margin-bottom:6px;box-shadow:0 1px 3px rgba(0,0,0,0.05)}
.order-row:last-child{border-bottom:none}
.order-actions button{margin-left:8px;padding:8px 10px;border-radius:6px;border:none;background:var(--primary);color:white;cursor:pointer;font-size:0.85rem}
.order-actions button.small{padding:6px 10px}
.order-actions button.danger-btn{background:#c0392b;color:white} /* Estilo para el botón de eliminar */
.text-center{text-align:center;padding:10px}

/* SPINNER DE CARGA */
.loading-spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid var(--primary);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 20px auto;
  display: none; /* Oculto por defecto */
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}


/* === PRINT STYLES (PDF) - Mejora Profesional === */
@page{size:letter;margin:8mm} /* MARGEN SUPERIOR DISMINUIDO */
@media print{
  body{background:white}
  .wrapper{
    max-width:100%;
    margin:0;
    border-radius:0;
    box-shadow:none;
    padding:0;
  }
  header, footer, .ot-bar, .controls, .modal, .db-message{display:none} /* Ocultar elementos de UI */
  main{padding:0}
  section, fieldset{
    border:1px solid #000;
    padding:10px;
    margin-bottom:10px;
    page-break-inside:avoid; /* Evita que secciones grandes se corten */
  }
  h3{
    color:#000;
    border-bottom:2px solid #000;
  }
  label{font-weight:normal;color:#000;display:flex;justify-content:space-between}
  input, select, textarea{display:none} /* Ocultar los campos */
  .print-value{
    display:inline;
    font-weight:700;
    color:#000;
    margin-left:5px;
    /* Subrayado para el valor */
    border-bottom:1px dashed #777;
    padding-bottom:2px;
  }
  .financial-data label{
    display:block;
    border:1px solid #eee;
    padding:5px;
    margin-bottom:5px;
  }
  .financial-data .total-final{
    font-weight:700;
    background:#eee;
  }
  .firmas{
    border-top:1px dashed #000;
    margin:15px 0;
  }
  .firma-box input{border-bottom:1px solid #000}
  .print-ot-bar{
    display:flex!important;
    justify-content:flex-start;
    gap:10px;
    padding:5px 0;
    border-bottom:2px solid #000;
    font-size:1.2rem;
  }
  .print-ot-bar label{font-weight:700}
  .ot-number-print{font-weight:700;color:#000}
  .print-header{
    display:flex!important;
    justify-content:space-between;
    align-items:center;
    color:#000;
    padding:0 0 10px 0;
    background:none;
    border-bottom:2px solid #000;
  }
  .print-header img{width:60px;height:60px}
  .print-header .header-info h1{font-size:1.5rem}
  .print-header .header-info p, .print-header small{color:#555}
  .notas{border:none;padding:0;margin-top:10px}
  .notas h4{border:none;padding:0;color:#000}
}
