:root{
  --primary: #004d99; /* Azul Corporativo */
  --accent: #f26522; /* Naranja Contraste */
  --dark: #2c3e50; /* Gris Oscuro/Negro Sobrio */
  --border: #e0e0e0;
  --bg: #f4f7f9; /* Fondo muy claro */
  --card: #fff;
  --success: #27ae60; /* Verde para Guardar */
  --danger: #c0392b; /* Rojo para Borrar */
}

*{box-sizing:border-box}
body{
  font-family: 'Inter', "Segoe UI", Roboto, Arial, sans-serif; /* Fuente moderna */
  margin:0;
  background:var(--bg);
  color:var(--dark);
}

.wrapper{
  max-width:1020px;
  margin:25px auto;
  background:var(--card);
  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
  overflow:hidden;
}

/* --- HEADER MÁS MODERNO Y LIMPIO --- */
header{
  display:flex;
  gap:16px;
  align-items:center;
  background:var(--dark);
  color:white;
  padding:18px;
  border-bottom: 3px solid var(--primary); /* Nuevo separador */
}
.logo{width:80px;height:80px;object-fit:contain;border-radius:8px;}
.header-info h1{font-size:1.8rem;margin:0}
.header-info p{font-size:1rem;margin:0}
.header-info small{font-size:0.75rem;opacity:0.8}

/* --- MAIN & FORM LAYOUT --- */
main{padding:25px}

.ot-bar{
    display:flex;
    justify-content:space-between;
    align-items:center;
    background:white;
    padding:15px;
    border-radius:8px;
    box-shadow:0 2px 8px rgba(0,0,0,0.05);
    margin-bottom:20px;
    gap:10px;
}
.ot-bar .left{display:flex;align-items:center;gap:10px;font-size:1.1rem;font-weight:700}
.ot-label{color:var(--primary)}
#otNumber{
    font-size:1.4rem;
    font-weight:800;
    color:var(--accent);
    background:transparent;
    border:none;
    width:80px;
}

.ot-bar .right{
    display:flex;
    gap:10px;
}

.session-info {
    text-align: right;
    margin-bottom: 15px;
}
.session-info small {
    color: var(--dark);
    opacity: 0.7;
}

/* --- FORM STYLES --- */
#otForm{display:flex;flex-direction:column;gap:20px}
fieldset{
    border:1px solid var(--border);
    border-radius:8px;
    padding:20px;
    margin:0;
}
legend{
    font-size:1.2rem;
    font-weight:700;
    color:var(--primary);
    padding:0 10px;
}
label{
    display:flex;
    flex-direction:column;
    font-size:0.9rem;
    font-weight:600;
    color:var(--dark);
    gap:5px;
}
input:not([type="checkbox"]), textarea{
    padding:10px;
    border:1px solid var(--border);
    border-radius:6px;
    font-size:1rem;
    width:100%;
    transition:border-color 0.2s;
    background:var(--bg);
}
input:focus, textarea:focus{border-color:var(--primary);outline:none;background:white}

.grid-2-col{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:15px;
}

/* --- ITEM LIST STYLES --- */
#itemsContainer{
    display:flex;
    flex-direction:column;
    gap:10px;
    margin-bottom:15px;
}
.item-row{
    display:grid;
    grid-template-columns:minmax(150px, 4fr) 80px 1.5fr 1.5fr auto;
    gap:10px;
    align-items:center;
    padding:8px 0;
    border-bottom:1px dashed var(--border);
}
.item-row input{padding:8px;font-size:0.95rem;background:white}
.item-row .desc-input{grid-column:1 / 2}
.item-row .qty-input{text-align:center}
.item-row .price-input{text-align:right}
.item-row .total-item{
    font-weight:700;
    text-align:right;
    color:var(--dark);
    font-size:1rem;
}
.item-row .delete-item-btn{
    background:none;
    border:none;
    color:var(--danger);
    cursor:pointer;
    padding:0;
    width:30px;
    height:30px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:transform 0.2s;
}
.item-row .delete-item-btn:hover{transform:scale(1.1)}
.item-row .delete-item-btn i{width:18px;height:18px}


.total-bar{
    display:flex;
    justify-content:flex-end;
    flex-direction:column;
    gap:10px;
    margin-top:20px;
    align-items:flex-end;
}
.total-bar label{
    flex-direction:row;
    gap:15px;
    font-size:1.1rem;
    font-weight: bold;
    color:var(--dark);
    width: 300px; /* Ancho fijo para alineación */
    justify-content: space-between;
}
.total-bar input[readonly]{
    background:var(--bg);
    border:1px solid var(--border);
    font-weight:700;
    text-align:right;
    color:var(--primary);
}
#totalInput{
    color:var(--accent);
    font-size:1.2rem;
}
.abono-bar {
    display: flex;
    justify-content: flex-end;
    margin-top: 10px;
}
.abono-bar label {
    flex-direction: row;
    gap: 15px;
    font-size: 1.1rem;
    font-weight: bold;
    color: var(--dark);
    width: 300px;
    justify-content: space-between;
}
#montoAbonadoInput {
    text-align: right;
    font-weight: 600;
}

/* --- FIRMAS & NOTAS --- */
.firmas{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:40px;
    padding-top:20px;
    border-top:1px dashed var(--border);
    margin-top:20px;
}
.firma-box label{text-align:center;font-size:1rem}
.firma-box input{border:none;border-bottom:2px solid var(--dark);border-radius:0;text-align:center}

.notas{
    padding:15px;
    background:var(--bg);
    border-radius:8px;
    margin-top:20px;
}
.notas h4{margin-top:0;color:var(--accent)}
.notas ul{list-style:none;padding:0;font-size:0.9rem;line-height:1.6}
.notas li::before{content:"•";color:var(--primary);font-weight:bold;display:inline-block;width:1em;margin-left:-1em}

/* --- BUTTONS --- */
button{
    padding:10px 15px;
    border-radius:8px;
    border:none;
    cursor:pointer;
    font-size:1rem;
    font-weight:600;
    transition:background 0.2s, transform 0.1s;
    display:flex;
    align-items:center;
    gap:6px;
    justify-content:center;
}
button:active{transform:scale(0.98)}
button.primary{background:var(--primary);color:white}
button.primary:hover{background:#003a7a}
button.accent{background:var(--accent);color:white}
button.accent:hover{background:#d85a18}
button.success{background:var(--success);color:white}
button.success:hover{background:#1f8e4c}
button.danger{background:var(--danger);color:white}
button.danger:hover{background:#a13023}
button.small{padding:6px 10px;font-size:0.85rem}

/* --- MESSAGE BOX --- */
.message-box {
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 15px;
    font-weight: 600;
    transition: opacity 0.3s;
}
.message-box.hidden {
    display: none;
}
.message-box.success {
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}
.message-box.danger {
    background-color: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
}
.message-box.primary {
    background-color: #cce5ff;
    color: #004085;
    border: 1px solid #b8daff;
}


/* --- MODAL STYLES --- */
.modal{
    position:fixed;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0.6);
    display:flex;
    justify-content:center;
    align-items:center;
    z-index:1000;
    transition:opacity 0.3s;
}
.modal.hidden{
    opacity:0;
    pointer-events:none;
}
.modal-content{
    background:white;
    padding:25px;
    border-radius:12px;
    width:90%;
    max-width:600px;
    box-shadow:0 5px 20px rgba(0,0,0,0.2);
    max-height:80vh;
    display:flex;
    flex-direction:column;
}
.modal-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:15px;
    padding-bottom:10px;
    border-bottom:1px solid var(--border);
}
.modal-header h3{margin:0;color:var(--primary)}
.modal-body{
    overflow-y:auto;
    flex-grow:1;
    padding-right:5px;
}
#searchOt{margin-bottom:15px;padding:10px;border-radius:6px;width:100%;}

.orders-list{display:flex;flex-direction:column;gap:10px}
.order-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:12px;
    border-bottom:1px solid #e5e5e5;
    background:var(--bg);
    border-radius:8px;
    margin-bottom:8px;
    box-shadow:0 1px 4px rgba(0,0,0,0.08)
}
.order-info{
    display:flex;
    flex-direction:column;
}
.order-info b{color:var(--primary);font-size:1.1rem}
.order-info small{color:var(--dark);opacity:0.7;font-size:0.8rem}
.order-actions{display:flex;gap:8px}


/* --- FOOTER --- */
footer{background:var(--dark);color:white;padding:15px;text-align:center;font-size:0.85rem}

/* --- RESPONSIVENESS & PRINT STYLES --- */
.mobile-only{display:none}
@media (max-width: 768px) {
    .wrapper{margin:0}
    .grid-2-col{grid-template-columns:1fr}
    .ot-bar{flex-direction:column;align-items:flex-start}
    .ot-bar .left{width:100%;margin-bottom:10px}
    .ot-bar .right{
        flex-direction:column;
        width:100%;
        gap:5px;
        display:none; /* Oculto por defecto, se muestra con el menú móvil */
        transition:max-height 0.3s ease-out;
        max-height:0;
        overflow:hidden;
    }
    .ot-bar .right.mobile-visible{
        display:flex;
        max-height:500px; /* Suficiente altura para mostrar todos los botones */
    }
    .ot-bar .right button{width:100%}
    .mobile-only{display:block}
    .desktop-only{display:none}

    .item-row{
        grid-template-columns:1fr;
        gap:5px;
        padding:10px;
        border:1px solid var(--border);
        border-radius:6px;
    }
    .item-row .desc-input{grid-column:1 / -1}
    .item-row .qty-input, .item-row .price-input, .item-row .total-item{
        width:100%;
        text-align:left;
    }
    .item-row .delete-item-btn{position:absolute;top:5px;right:5px}
    .firmas{grid-template-columns:1fr;gap:20px}
    .total-bar label, .abono-bar label {
        width: 100%;
    }
}

/* --- PRINT STYLES --- */
@page{size:letter;margin:10mm} 

@media print{
    body{background:white;font-size:10pt}
    .wrapper, .modal, .session-info, .ot-bar button, .ot-bar .right, #mobileMenuBtn, footer, .message-box {
        display:none !important;
    }
    .print-area{
        display:block !important;
        max-width:1000px;
        margin:0 auto;
        padding:0;
    }
    .print-area header{
        background:transparent;
        color:var(--dark);
        border-bottom: 2px solid var(--primary);
        padding:0;
    }
    .print-area .header-info h1{font-size:1.5rem}
    .print-area .header-info p{font-size:0.9rem}
    .print-area .header-info small{font-size:0.7rem;opacity:1}
    .print-area main{padding:10px 0}
    
    .print-area .ot-bar{
        background:none;
        box-shadow:none;
        margin-bottom:10px;
        padding:0;
    }
    .print-area .ot-bar .left span{
        font-size:1.2rem;
        font-weight:800;
        color:var(--accent);
    }

    .print-area fieldset{
        border:1px solid #ccc;
        border-radius:0;
        padding:10px;
        page-break-inside:avoid;
    }
    .print-area legend{
        font-size:1.1rem;
        color:var(--primary);
    }
    .print-area label{
        flex-direction:row;
        gap:5px;
        font-weight:600;
    }
    .print-area label span, .print-area label p {
        font-weight:400;
        flex-grow:1;
        text-align:right;
    }
    .print-area label p {
        text-align:left;
    }
    
    .print-items-table table{width:100%;border-collapse:collapse;margin-bottom:10px}
    .print-items-table th, .print-items-table td{border:1px solid #ddd;padding:5px;text-align:left;font-size:0.85rem}
    .print-items-table th{background:#eee;font-weight:700}
    .print-items-table .right{text-align:right}

    .print-area .total-bar, .print-area .abono-bar {
        justify-content: flex-end;
        align-items: flex-end;
        margin-top: 5px;
    }
    .print-area .total-bar label, .print-area .abono-bar label {
        width: 300px;
        font-size: 1rem;
        border-bottom: 1px dashed #ccc;
        padding: 3px 0;
        justify-content: space-between;
    }
    .print-area #totalInput, .print-area .total-bar label:last-child span{
        font-size:1.1rem;
        color:var(--accent);
        font-weight:800;
    }

    .print-area .firmas{
        padding-top:10px;
        border-top:1px solid #ccc;
        margin-top:15px;
    }
    .print-area .firma-box{
        display:flex;
        flex-direction:column;
        align-items:center;
    }
    .print-area .firma-box label{font-size:0.9rem;font-weight:600}
    .print-area .firma-box .signature-line{
        display:block;
        width:100%;
        height:1px;
        background:var(--dark);
        margin-top:30px;
    }

    .print-area .notas{
        background:#f0f0f0;
        padding:10px;
        margin-top:15px;
    }
    .print-area .notas h4{font-size:1rem}
    .print-area .notas li{font-size:0.8rem}
}
